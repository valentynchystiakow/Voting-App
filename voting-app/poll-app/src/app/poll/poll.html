<!-- main app component block -->
<div class="container mt-4">
    <h2 class="text-center">Create Poll</h2>

    <!-- new poll form block -->
    <div class="mb-3">
        <input [(ngModel)]="newPoll.question" placeholder="Poll Question" class="form-control" required />
    </div>

    <!-- new options form block -->
    <div class="options-container mb-3">
        <div *ngFor="let option of newPoll.options; let i = index; trackBy:trackByIndex" class="input-group mb-2">
            <input [(ngModel)]="option.optionText" placeholder="Option" class="form-control" required />
            <!-- Remove Option button block -->
            <button  *ngIf = "newPoll.options.length > 2" (click) = "newPoll.options.splice(i,1)"class="btn btn-danger">
                Remove
            </button>
        </div>
    </div>    
    
    <!-- create poll button -->
    <button (click)="createPoll()" class="btn btn-primary">Create Poll</button>
    <!-- add option button -->
    <button (click)="addOption()" class="btn btn-primary">Add Option</button>

    <!-- Available Polls block -->
    <h2 class="mt-4 text-center"> Available Polls</h2>
    <!-- block for each poll -->
    <div class="polls-list">
        <!-- for each poll in polls -->
        <div *ngFor="let poll of polls" class="border-rounded p3 mb-3">
                <h3>
                    <!-- display poll question -->
                    {{poll.question}}
                </h3>
                <!-- options list block -->
                <div class = "options-list">
                    <!-- for each option in poll -->
                    <div *ngFor="let option of poll.options, let i = index">
                        <button (click) = "vote(poll.id, i)" class="btn btn-outline-primary me-2 mt-2">
                            <!-- display option text and number of votes -->
                            {{option.optionText}} ( {{option.voteCount}} votes )
                        </button>
                    </div>
                </div>
            </div>
        </div>
</div>